<!doctype html>
<html>
  <head>
    <style>
      @font-face {
        font-family: 'ia-quattro-v';
        src: url('fonts/iAWriterQuattroV.ttf') format('truetype');
      }

      @font-face {
        font-family: 'ia-quattro-s';
        src: url('fonts/iAWriterQuattroS-Regular.ttf') format('truetype');
      }
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JIF</title>
    <link rel=stylesheet media=screen href="jif.css">
  </head>

  <body hbox=stretch ondrop="open_file(event)">
    <div flex=1 vbox=stretch>
      <pre id=ed scale=0 contenteditable="plaintext-only"></pre>
      <div id=menu class=ui hbox=start-stretch></div>
    </div>

    <script src="jif.js"></script>

    <script>
      configure(db.get('=config'))

      set_scale(db.get('scale') ?? 0)
      toggle_spell(db.get('spell') ?? false)

      /////

      JIF.autoload()

      window.on('beforeunload', () =>
        JIF.autosave(jif.curfile, ed.value))

      /////

      getSelection().setBaseAndExtent(ed, 0, ed, 0)

    </script>
  </body>
</html>

